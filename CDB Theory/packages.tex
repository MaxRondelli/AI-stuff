\usepackage{amsmath} % for aligned
\usepackage{amssymb} % for \mathbb
\usepackage{tikz}
%\usepackage{etoolbox} % for \ifthen
\usepackage{listofitems} % for \readlist to create arrays
\usetikzlibrary{arrows.meta} % for arrow size
\usepackage[outline]{contour} % glow around text
\contourlength{1.4pt}

\tikzset{>=latex} % for LaTeX arrow head
\usepackage{xcolor}
\colorlet{myred}{red!80!black}
\colorlet{myblue}{blue!80!black}
\colorlet{mygreen}{green!60!black}
\colorlet{myorange}{orange!70!red!60!black}
\colorlet{mydarkred}{red!30!black}
\colorlet{mydarkblue}{blue!40!black}
\colorlet{mydarkgreen}{green!30!black}
\tikzstyle{node}=[thick,circle,draw=myblue,minimum size=22,inner sep=0.5,outer sep=0.6]
\tikzstyle{node in}=[node,green!20!black,draw=mygreen!30!black,fill=mygreen!25]
\tikzstyle{node hidden}=[node,blue!20!black,draw=myblue!30!black,fill=myblue!20]
\tikzstyle{node convol}=[node,orange!20!black,draw=myorange!30!black,fill=myorange!20]
\tikzstyle{node out}=[node,red!20!black,draw=myred!30!black,fill=myred!20]
\tikzstyle{connect}=[thick,mydarkblue] %,line cap=round
\tikzstyle{connect arrow}=[-{Latex[length=4,width=3.5]},thick,mydarkblue,shorten <=0.5,shorten >=1]
\tikzset{ % node styles, numbered for easy mapping with \nstyle
  node 1/.style={node in},
  node 2/.style={node hidden},
  node 3/.style={node out},
}
\def\nstyle{int(\lay<\Nnodlen?min(2,\lay):3)} % map layer number onto 1, 2, or 3

\usepackage{caption}
\usepackage{subcaption}
\usepackage{verbatim}
\usetikzlibrary{automata, positioning, chains, fit, arrows.meta, shapes, matrix, decorations.pathreplacing, arrows}
\usepackage{pgfplots}
\pgfplotsset{compat=1.16}
\usetikzlibrary{patterns}
\usetikzlibrary{shapes, arrows}
\def\layersep{2}
\def\nodesep{1.5}
\usepackage{pgfkeys}
\usepackage[hidelinks]{hyperref}
\usepackage{mathtools}
\hypersetup{allcolors=black}
\usepackage{listings}
\usepackage{xcolor}
\definecolor{tyell}{HTML}{FFFBAC}
\definecolor{tgray}{HTML}{332C39}
\definecolor{tblue}{HTML}{537FE7}
\definecolor{tred}{HTML}{E90064}
\definecolor{tnavy}{HTML}{301E67}

\usepackage{courier} %% Sets font for listing as Courier.
\usepackage{listings, xcolor}
\lstset{
tabsize = 4, %% set tab space width
showstringspaces = false, %% prevent space marking in strings, string is defined as the text that is generally printed directly to the console
numbers = left, % Numerazione con numeri piccoli %% display line numbers on the left
commentstyle = \color{gray}, %% set comment color
keywordstyle = \color{blue}, %% set keyword color
stringstyle = \color{red}, %% set string color
rulecolor = \color{black}, %% set frame color to avoid being affected by text color
basicstyle = \footnotesize  \ttfamily , %% set listing font and size
breaklines = true, %% enable line breaking
numberstyle = \tiny,
}
\usepackage{mwe}

\usepackage{biblatex}
\usepackage{url}
\usepackage{hyperref}
\usepackage{fancyhdr}
\addbibresource{refs.bib}

\linespread{1.1}

%  aggiunge linea in cima alla pagina con numero della pagina e il capitolo di riferimento
\pagestyle{fancy}
\fancyhf{}
\fancyhead[EL]{\nouppercase\leftmark}
\fancyhead[OR]{\nouppercase\rightmark}
\fancyhead[ER,OL]{\thepage}

% Table
\usepackage{multirow}
\usepackage{array} 
\usepackage{rotating}
